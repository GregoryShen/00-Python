## 第一部分 序幕

第1章 Python 数据类型

1.4 为什么 len 不是普通方法

## 第二部分 数据结构

### 第2章 序列构成的数组

你们可能注意到了，之前提到的几个操作可以无差别地应用于文本、列表和表格上。我们把文本、列表和表格叫做数据火车…FOR 命令通常能作用于数据火车上。

ABC 语言是一个致力于为初学者设计编程环境的长达10年的研究项目，其中很多点子在现在看来都很有 Python 风格：序列的范型操作、内置的元组和映射类型、用缩进来架构的源码、无需变量声明的强类型等等。Python 对开发者如此友好，根源就在这里。

Python 也从 ABC 那里继承了用统一的风格去处理序列数据这一特点。不管是哪种数据结构，字符串、列表、字节序列、数组、XML 元素，抑或是数据库查询结果，它们都共用一套丰富的操作：迭代、切片、排序还有拼接。

深入理解 Python 中不同序列类型，不但能让我们避免重新发明轮子，它们的 API 还能帮助我们把我们自己定义的 API 设计的跟原生序列一样，或者是跟未来可能出现的序列类型保持兼容。

本章讨论的内容几乎可以应用到所有的序列类型上，从我们熟悉的 list, 到 Python3 中特有的 str 和 bytes。还会特别提到跟列表、元组、数组以及队列有关的话题。但是 Unicode 字符串和字节序列的内容被放在了第4章。另外这里讨论的数据结构都是 Python 中现成可用的，如果你想知道怎样创建自己的序列类型要等到第10章。

#### 2.1 内置序列类型概览



#### 2.2 列表推导和生成器表达式



##### 2.2.1 列表推导的可读性



##### 2.2.2 列表推导同 filter 和 map 的比较



##### 2.2.3 笛卡尔积



##### 2.2.4 生成器表达式



#### 2.3 元组不仅仅是不可变的列表

2.3.1 元组和激素

2.3.2 元组拆包

2.3.3 嵌套元组拆包

2.3.4 具名元组

2.3.5 作为不可变列表的元组

2.4 切片

2.4.1 为什么切片和区间会忽略最后一个元素

2.4.2 对对象进行切片

2.4.3 多位切片和省略

2.4.4 给切片复制

2.5 对序列使用+和*

2.6 序列的增量赋值

2.7 list.sort 方法和内置函数 sorted

2.8 用 bisect 来管理已排序的序列

2.8.1 用 bisect 来搜索

2.8.2 用 bisect.insort 插入新元素

2.9 当列表不是首选时

2.9.1 数组

2.9.2 内存时图

2.9.3 NumPy 和 SciPy

2.9.4 双向队列和其他形式的队列

2.10 本章小结

2.11 延伸阅读

第 3 章 字典和集合

第 4 章 文本和字节序列



## 第三部分 把函数视作对象

第 5 章 一等函数

5.1 把函数视作对象

5.2 高阶函数 map、filter和 reduce 的现代替代品

5.3 匿名函数

5.4 可调用对象

5.5 用户定义的可调用类型

5.6 函数内省

5.7 从定位参数到仅限关键字参数

5.8 获取关于参数的信息

5.9 函数注解

5.10 支持函数式编程的包

5.10.1 operator 模块

5.10.2 使用 functools.partial 冻结参数

5.11 本章小结

5.12 延伸阅读

第 7 章 函数装饰器和闭包

7.1 装饰器基础知识

7.2 Python 何时执行装饰器

7.3 使用装饰器改进“策略”模式

7.4 变量作用域规则

7.5 闭包

7.6 nonlocal 声明

7.7 实现一个简单的装饰器

7.8 标准库中的装饰器

7.8.1 使用 functools.lru_cache 做备忘

7.8.2 单分派泛函数

7.9 叠放装饰器

7.10 参数化装饰器

7.10.1 一个参数化的注册装饰器

7.10.2 参数化 clock 装饰器

7.11 本章小结

7.12 延伸阅读

## 第四部分 面向对象惯用法

第8章 对象引用、可变性和垃圾回收

8.1 变量不是盒子



第9章 符合 Python 风格的对象

















